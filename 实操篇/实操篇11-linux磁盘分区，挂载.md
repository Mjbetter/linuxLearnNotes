# Linux磁盘分区，挂载



#### 一、原理介绍

1. 对于Linux来说无论有几个分区，分给哪一个目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构，Linux中每个分区都是用来组成文件系统的一部分。
2. Linux采用了一种叫“载入”的处理方法，它的整个文件系统包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一个目录下获得。

#### 二、linux分区

1. 查看所有设备的挂载情况	
   - 命令 lsblk 或者lsblk -f
2. 硬盘说明
   - Linux硬盘分为IDE硬盘和SCSI硬盘，目前基本是SCSI硬盘
   - 对于IDE硬盘，驱动器标识符为“hdx ~”，其中“hd”表明分区所在设备的类型，这里是指IDE硬盘了。“x”为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘），“~”代表分区，前四个分区用数字1~4表示，它们是主分区或扩展分区，从第五开始就是逻辑分区。例，hda3表示第一个IDE硬盘上的第三个主分区或扩展分区，hdb2表示为第二个IDE硬盘上的第二个主分区或扩展分区。
   - 对于SCSI硬盘则标识为“sdx~”，SCSI硬盘是用“sd”来表示分区所在设备类型的，其余则和IDE硬盘的表示方法一样。
   - vda是云服务器上的虚拟硬盘。

#### 三、挂载案例

1. 如何增加一块硬盘
   - 虚拟机添加硬盘。
     - 在虚拟机菜单中，选择设置，然后设备列表里添加硬盘，然后一路“下一步”，中间只有选择磁盘大小的地方需要修改，直到完成，然后重启系统（才能识别）。
   - 分区。
     - 分区命令：fdisk /dev/sdb
     - 开始对/sdb分区
       - m 显示命令列表
       - p 显示磁盘分区 同fdisk -l
       - n 新增分区
       - d 删除分区
       - w写入并退出
       - 说明：开始分区后输入n，新增分区，然后选择p，分区类型为主分区，两次回车默认剩余全部空间，最后输入w写入分区并退出，若不保存退出输入q。
   - 格式化。
     - mkfs -t ext4 /dev/sdb1
     - 其中ext4是分区类型
   - 挂载。
     - 将一个分区与一个目录联系起来
     - mount 设备名称 挂载目录 ---mount /deb/sdb1 /newdisk
     - umount  设备名称或挂载目录---取消挂载
     - 用命令行方式挂载，重启之后挂载会失效。
   - 设置可以自动挂载。
     - 通过修改/etc/fstab实现挂载
       - 不清楚uuid可以直接写设备名称，清楚的就写uuid，然后空格写挂载目录，最后的两个0，第一个0不做dump备份，第二个0不检查硬盘扇区。  
     - 添加完成后执行mount -a 即刻生效